(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{421:function(t,e,r){r(35),r(18),r(30),r(23),r(73),r(83),r(19);var n=r(201),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(t).filter(t=>!e.includes(t)).reduce((e,r)=>Object.assign(e,{[r]:t[r]}),{})};t.exports=class{constructor(t,e){var{query:r,path:path,init:n,text:text,postprocess:h=[]}=t;this.query=r,this.path=path,this.init=n,this.postprocess=h,this.options=e||{},this.onlyKeys=null,this.withoutKeys=null,this.sortKeys=[],this.limitN=null,this.skipN=null,text||this.postprocess.unshift(data=>data.map(t=>o(t,["text"])))}only(t){return this.onlyKeys=Array.isArray(t)?t:[t],this}without(t){return this.withoutKeys=Array.isArray(t)?t:[t],this}sortBy(t,e){return this.sortKeys.push([t,"desc"===e]),this}where(t){return this.query=this.query.find(t),this}search(t,e){return t?(r="object"==typeof t?t:e?{query:{type:"match",field:t,value:e,prefix_length:1,fuzziness:1,extended:!0,minimum_should_match:1}}:{query:{type:"bool",should:this.options.fullTextSearchFields.map(e=>({type:"match",field:e,value:t,prefix_length:1,operator:"and",minimum_should_match:1,fuzziness:1,extended:!0}))}},this.query=this.query.find({$fts:r}).sortByScoring(),this):this;var r}surround(t){var{before:e=1,after:r=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0===t.indexOf("/")?"path":"slug";this.onlyKeys&&this.onlyKeys.push(n),this.withoutKeys&&(this.withoutKeys=this.withoutKeys.filter(t=>t!==n));return this.postprocess.push(data=>{var o=data.findIndex(e=>e[n]===t),h=new Array(e+r).fill(null,0);if(-1===o)return h;for(var l=data.slice(o-e,o),y=data.slice(o+1,o+1+r),c=0,i=e-1;i>=0;i--)h[i]=l[c]||null,c++;for(var f=0,d=e;d<=r;d++)h[d]=y[f]||null,f++;return h}),this}limit(t){return"string"==typeof t&&(t=parseInt(t)),this.limitN=t,this}skip(t){return"string"==typeof t&&(t=parseInt(t)),this.skipN=t,this}fetch(){var t=this;return n((function*(){t.sortKeys&&t.sortKeys.length&&(t.query=t.query.compoundsort(t.sortKeys)),t.skipN&&(t.query=t.query.offset(t.skipN)),t.limitN&&(t.query=t.query.limit(t.limitN));var data=t.query.data({removeMeta:!0});if(t.onlyKeys){t.options.watch&&t.onlyKeys.push("path","extension");t.postprocess.unshift(data=>data.map(e=>function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(t).filter(t=>e.includes(t)).reduce((e,r)=>Object.assign(e,{[r]:t[r]}),{})}(e,t.onlyKeys)))}if(t.withoutKeys){t.options.watch&&(t.withoutKeys=t.withoutKeys.filter(t=>!["path","extension"].includes(t)));t.postprocess.unshift(data=>data.map(e=>o(e,t.withoutKeys)))}for(var e of t.postprocess)data=e(data);if(!data)throw new Error("".concat(t.path," not found"));return JSON.parse(JSON.stringify(data))}))()}}},520:function(t,e,r){"use strict";r.r(e);r(64),r(39),r(20);var n=r(421),o=r.n(n),h=r(419),l=r.n(h),y=r(420);r.n(y).a.register();var c,f,d=["/","/themes"],m=function(){var t={},e=[];Array.from(arguments).forEach(r=>{"string"==typeof r?e.push(r):"object"==typeof r&&(t=r)});var{text:text=!1,deep:r=!1}=t,path="/".concat(e.join("/").replace(/\/+/g,"/")),n=!path||!!d.find(t=>t===path),h=n?{dir:r?{$regex:new RegExp("^".concat(path))}:path}:{path:path},l=n?[]:[data=>data[0]];return new o.a({query:f.chain().find(h,!n),path:path,postprocess:l,text:text},{fullTextSearchFields:["title","description","slug","text"]})};e.default=t=>((c=new l.a("content.db")).loadJSONObject(t),f=c.getCollection("items"),m)}}]);